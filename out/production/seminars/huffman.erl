%%%-------------------------------------------------------------------
%%% @author Simon
%%% @copyright (C) 2015, <COMPANY>
%%% @doc
%%%
%%% @end
%%% Created : 26. jan 2015 13:09
%%%-------------------------------------------------------------------
-module(huffman).
-author("Simon").

%% API
-compile(export_all).
% the quick brown fox jumps over the lazy dog this is a sample text that we will use when we build up a table we will only handle lower case letters and no punctuation symbols the frequency will of course not represent english but it is probably not that far off
oneThousand() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

twoThousand() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

fourThousand() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

eightThousand() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

sixteenThousand() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

sample() -> "Other things being equal, the mind acts most healthfully on what is most pleasing. Children are attracted most by things having life, character, color, and rarity. Whatever has life appeals directly to the young mind, especially where the various stages of life are apparent. Birth, infancy, the family relation, society, paternity, sickness, death, joy, sadness, homes, building of nests, eggs, incubation, flying, singing, fighting, foraging, searching covert places, digging, boring, hammering, wading, swimming, catching, devouring, sentry duty, migration, gregariousness, dress, differences in appearance of sexes and ages, moulting, mimicking, special equipment for occupations, anatomy, physiology, hygiene, usefulness to man, assistance in agriculture and arboriculture, destructiveness to noxious life, swiftness, deliberation, expertness, stupidity, instincts for remarkable performances, lack of judgment in certain lines, loquacity, vivacity, sympathy and mutual helpfulness, resemblances".

% this is something that we should encode

benchmark() ->
  Total = test() + test() + test() + test() + test(),
  Total / 5.

test() ->

  Sample = sixteenThousand(),
  Table = table(Sample),
  Text = sixteenThousand(),
  Time1 = now(),
  Seq = encode(Text, Table),
  Length = length(Seq),
  Time2 = now(),
  Text = decode(Seq, Table),
  Length.

table(Sample) ->
  Freq = freq(Sample),
  Tree = huffman(Freq),
  huffman_codes(Tree).

freq([]) ->
  erlang:error("empty table");
freq(Sample) ->                           % Start frequency counter from sorted list
  freq(lists:sort(Sample), []).

freq([], Freqlist) ->                     % If input list is empty, counting is done
  Freqlist;                               % Return finished frequency list.
freq(Sample, Freqlist) ->
  {Counted, Tail} = counter(Sample),      % Counter returns a touple with a touple of the counted character and a rest
  freq(Tail, [Counted | Freqlist]).       % Recursive call with the rest and updated frequency list

counter([H | T]) ->                       % Help function
  counter([H | T], H, 0).                 % Start counter at 0
counter([], K, X) ->                      % If list is empty, return a finished touple
  {{leaf, K, X, na, na}, []};
counter([H | T], K, X) ->
  case K =:= H of                         % If head of list is equal to the atom we're looking for...
    true ->
      counter(T, K, X + 1);         % ...Increment with 1 for each matching element
    false ->
      {{leaf, K, X, na, na}, [H | T]}    % Return the finished touple and list when characted is counted
  end.

huffman(Freq) ->
  Queue = lists:keysort(3, Freq),         % Sort the frequency list after frequency, create a queue
  create_tree(Queue).                     % Create tree

create_tree([H | []]) ->                  % When queue is only one element, merging is done
  H;
create_tree([E1, E2 | T]) ->              % Analyze first two tuples
  {_, _, F1, _, _} = E1,                  % Extract first frequency
  {_, _, F2, _, _} = E2,                  % Extract second frequency
  huffman([{node, na, F1 + F2, E1, E2} | T]). % Recursive call with newly created/merged node and tail of list

huffman_codes(H) ->                       % Start to traverse tree
  huffman_codes(H, [], []).

huffman_codes({Type, Char, _, Left, Right}, Codes, Path) -> % Codes contains visited tuples, Path contains binary codes
  case Type of
    node ->
      huffman_codes(Right, huffman_codes(Left, Codes, [0 | Path]), [1 | Path]);  % Left branch evaluated before right branch
    leaf ->
      [{Char, library:reverse(Path)} | Codes]             % Reverse path since we don't append it while building path
  end.

encode(Text, Table) ->                    % Help function
  encode(Text, Table, []).

encode([], _, Bitlist) ->                 % If list of characters is empty, bitlist is done
  Bitlist;
encode([Char | T], Table, Bitlist) ->     % Analyze first character in text
  Code = isInTable(Char, Table),          % isInTable returns the binary code for the given character in the tree
  encode(T, Table, library:append(Bitlist, Code)).  % Recursive call to continue encoding while adding the latest
                                                    % code to the list

isInTable(Char, [{Char, Value} | _]) ->   % If character is in the first tuple, return matching value
  Value;
isInTable(Char, [_ | T]) ->               % Remove first tuple and analyze for rest of list
  isInTable(Char, T).

decode(Seq, Table) ->                     % Help function
  decode(Seq, Table, []).

decode([], _, String) ->                  % If the sequence of bits is analyzed (empty), print out the decoded string
  String;
decode(Seq, Table, String) ->             % Find the first bit code that represents a character
  decode_chars(Seq, 1, Table, String).

decode_chars(Seq, N, Table, String) ->
  {Code, Rest} = lists:split(N,Seq),      % Split the sequence in order to find bit code in table
  case lists:keysearch(Code, 2, Table) of % Search the table for the bit code
    {_, {Char, _}} ->                     % If code is found, append the corresponding character and search through the rest
      decode(Rest, Table, library:append(String, [Char]));
    false ->                              % If code isn't found, split one more position down the sequence
      decode_chars(Seq, N + 1, Table, String)
  end.
